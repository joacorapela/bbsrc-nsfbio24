\subsubsection{Data collection \& management}

We have developed an innovative platform for housing of mice in large arenas
(\textgreater 2m diameter) enabling precise behavioural manipulation and
high-resolution monitoring
(\href{https://www.gatsby.ucl.ac.uk/~rapela/bbsrc\_nsfbio/figures/foragingArena.png}{online
figure},
[\href{https://www.abstractsonline.com/pp8/?_gl=1*it0gi6*_gcl_au*MTUyNDE0NDQwLjE3Mjc2OTgyODM.*_ga*MTUxNDI2NDg5LjE3Mjc2OTgyODM.*_ga_T09K3Q2WDN*MTcyOTUwNDUzNy4yLjEuMTcyOTUwNDY3Ny41NC4wLjA.#!/20433/presentation/22271}{2}]).
%
We have openly shared software for supporting data
acquisition~[\href{https://github.com/SainsburyWellcomeCentre/aeon_acquisition}{3}]
and
management~[\href{https://github.com/SainsburyWellcomeCentre/aeon_mecha}{4}] in this
arena.
%
Additionally, the platform supports continuous, long term monitoring of neural
activity with Neuropixels probes, capable of recording from thousands of
neurons simultaneously spanning the entire brain depth.
%
This setup has allowed us to collect several week-long datasets with single and
multiple mice per arena.

To facilitate the replication of our experimental setup by other groups, we
will share instructions for building foraging arenas, as well as specifications
of hardware used in them,
%
and we will improve the documentation of the software repositories for data
acquisition and management.

\subsubsection{Sharing data and methods}

The very large datasets produced by NaLoDuCo experiments make traditional
methods of data distribution impractical. Instead, users will interact with the
data directly where it is stored. The maturation of cloud technologies now
makes this possible.

We will leverage \href{https://www.dandiarchive.org/}{DANDI}, which utilises
Amazon S3 storage, for hosting the data. Additionally, we will provide software
to visualise and analyse data using Amazon EC2 instances, thereby minimising
the need for time-consuming data transfers.

Handling and sharing continuous behavioural and neural recordings of this scale
presents unique challenges. Runtime performance is one of them. If we
encounter unacceptable delays, we will explore advanced optimisation
strategies, such as parallel processing and resource-efficient cloud
configurations.

\subsubsection{Data visualisation}

Our visualisation tools need to display very large datasets at different
temporal scales, from milliseconds to weeks and months, and they need to be web
based.
%
We will use multi-resolution visualisation techniques, which store data at
various resolutions, and use the appropriate resolution for each zoom level.
%
Web-based visualisation will be optimised using web workers.

\subsubsection{Spike sorting}

Spike sorting is specially challenging in NaLoDuCo experimentation since we
want to track individual neurons of freely moving mice for weeks to months.
%
In addition, we need online spike sorting, to allow experiments driven
by real-time machine learning inference, as described below.
%
We will evaluate methods for tracking neurons over long periods of time
(e.g., [\href{https://pubmed.ncbi.nlm.nih.gov/38985568/}{5}]) and for online sorting
(e.g., [\href{https://pubmed.ncbi.nlm.nih.gov/16488479/}{6}]). If needed, we will develop
new methods, as we are experienced on the subject.

\subsubsection{Data analysis}

The very large size of NaLoDuCo experimental data, the fact that the statistics
of these data change across time, and the requirement for real-time and
close-loop inference create new challenges to conventional machine learning
data analysis methods.
%
We will evaluate how existing methods targeting the focus areas described above
cope with these challenges and, if necessary, create new ones.

For behavioural data, we will investigate methods to:

\begin{itemize}

    \item track multiple body parts of animals (e.g.,
        [\href{https://pubmed.ncbi.nlm.nih.gov/30127430/}{7}] and a
        switching-linear-dynamical method using RFIDs that we will develop),

    \item infer kinematics of foraging mice (e.g.,
        [\href{https://github.com/joacorapela/lds\_python}{8},\href{https://www.cambridge.org/core/books/fundamentals-of-object-tracking/A543B0EA12957B353BE4B5D0602EE945}{9}]),

    \item segment behaviour into discrete states (e.g.,
        [\href{https://pubmed.ncbi.nlm.nih.gov/26687221/}{10}]
        and a hierarchical HMM that we will develop),

    \item infer the rules that govern mice behaviour from behavioural
        observations only (i.e., policy inference) (e.g.,
        [\href{https://arxiv.org/abs/2311.13870v2}{11}]).

\end{itemize}

For neural data, we will investigate methods to:

\begin{itemize}

    \item estimate low-dimensional continual representations of neural activity
        (i.e., latents inference) (e.g.,
        [\href{https://papers.nips.cc/paper_files/paper/2011/hash/7143d7fbadfa4693b9eec507d9d37443-Abstract.html}{12}]),

    \item segment neural activity into discrete states (e.g.,
        [\href{https://pubmed.ncbi.nlm.nih.gov/21299424/}{13}]),

    \item decode environment variables from neural activity (e.g.,
        [\href{https://pubmed.ncbi.nlm.nih.gov/25973549/}{14}]).

\end{itemize}
